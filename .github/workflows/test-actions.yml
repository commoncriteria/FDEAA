name: build pp document
on: [push]
jobs:
  build-the-document:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout project and transforms
        uses: actions/checkout@v2 
        with: 
          submodules: true
      - name: Set up Python 3
        uses: actions/setup-python@v2
        with:
            python-version: '3.x'
      - name: Install lib
        run: sudo apt-get install -y xsltproc
      - name: Convert XML to HTML
        run: make
      - name: Package it up
        run: cd output && zip -r ../PPTemplate.zip .

      - name: Update release
        uses: johnwbyrd/update-release@v1.0.0
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          files: ./PPTemplate.zip
